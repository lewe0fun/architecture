openapi: 3.0.0
info:
  title: Заказ ресурсов на облаке
  version: 0.0.1
servers:
  - url: http://localhost:8080/api/v1/
    description: Dev server
paths: 
  /clouds:
    get:
      summary: метод получения списка ресурсов на облаке
      tags:
        - Clouds
      operationId: getAllClouds
      responses:
        "200":
          description: Успешный ответ со списком ресурсов в облаке
          content:
            adplication/json:
              schema:
              $ref: "#/components/scemas/Clouds"
        "default":
          description: Все остальное
          content:
            adplication/json:
              schema:
              $ref: "#/components/scemas/Errors"
    post:
      summary: Создание заказа на облаке
      tags:
        - Clouds
        operationId: CreateCloud
        requestBody:
          content:
            adplication/json:
              schema:
                $ref: "#/component/schemas/Error"
        response:
          "200":
          description: Успешный ответ со списком ресурсов в облаке
          content:
            adplication/json:
              schema:
              $ref: "#/components/scemas/Clouds"
        "default":
          description: Все остальное
          content:
            adplication/json:
              schema:
              $ref: "#/components/scemas/Errors"
            
components: 
  schemas:
    Cloud:
      type: object
      required:
      - id_client
      - os
      - ram
      - cpu
      - storage
      properties:
        cloud_id:
          type: string
          example: f102b15
        id_client:
          type: string
          example: f102b15
        os:
          type: string
          enum:
            - windows
            - linux
          description: операцтонная мистема сервера
        ram:
          type: string
          example: 128
          description: объем оперативной памяти
        cpu:
          type: string
          example: 8
          description: количество ядер процессора
    Clouds:
      type: array
      items:
        $ref:"#/components/scemas/Cloud"
    Error:
      type: object
      required:
        - code
        - message
      properties:
        code:
          type: integer
        message:
          type: string
    